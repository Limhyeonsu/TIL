# 20. 업무 규칙
업무 규칙은 사업적으로 수익을 얻거나 비용을 줄일 수 있는 규칙 또는 절차다. 즉 컴퓨터 상으로 구현했는지와 상관없이 업무 규칙은 사업적으로 수익을 얻거나 비용을 줄일 수 있어야 한다. 

규칙을 자동화하는 시스템이 없더라도 업무 규칙은 그대로 존재하는 경우 '핵심 업무 규칙'이라고 부른다. 핵심 업무 규칙은 보통 데이터를 요구한다. (대출의 경우 대출 잔액, 이자율, 지급 일정 등이 필요) 이러한 데이터를 핵심 업무 데이터라 부른다.

핵심 규칙과 핵심 데이터는 본질적으로 결합되어 있기 때문에 객체로 만들 좋은 후보가 된다. 이러한 유형의 객체를 `엔티티`라 부른다.

## 엔티티
엔티티는 컴퓨터 시스템 내부의 객체로서 핵심 업무 데이터를 기반으로 동작하는 일련의 조그만 핵심 업무 규칙을 구체화 한다. 엔티티는 핵심 데이터를 직접 포함하거나 핵심 데이터에 매우 쉽게 접근할 수 있다.

## 유스케이스
자동화된 시스템이 동작하는 방법을 정의하고 제약함으로써 수익을 얻거나 비용을 줄이는 업무 규칙도 존재한다. 이러한 규칙은 자동화된 시스템의 요소로 존재해야만 의미가 있으므로 수동 환경에서는 사용될 수 없다. 이처럼 자동화된 시스템이 사용되는 방법을 설명하는 것을 `유스케이스`라 한다. 

유스케이스는 사용자가 제공해야 하는 입력, 사용자에게 보여 줄 출력, 그리고 해당 출력을 생성하기 위한 처리 단계를 기술한다. 엔티티와는 반대로 유스케이스는 애플리케이션에 특화된 업무 규칙을 설명한다. 

유스케이스는 엔티티 내부의 핵심 업무 규칙을 어떻게, 언제 호출할지를 명시하는 규칙을 담는다. 

유스케이스는 객체다. 애플리케이션에 특화된 업무 규칙을 구현하는 하나 이상의 함수를 제공한다. 

엔티티(고수준)는 자신을 제어하는 유스케이스(저수준)에 대해 아무것도 알지 못한다. 반대로 유스케이스는 엔티티에 대해 알고 있다.

## 요청 및 응답 모델
제대로 구성된 유스케이스 객체라면 데이터를 사용자나 또 다른 컴포넌트와 주고 받는 방식에 대해서는 전혀 눈치챌 수 없어야 한다. 이처럼 의존성을 제거하는 일은 매우 중요하다. 요청 및 응답 모델이 독립적이지 않다면 그 모델에 의존하는 유스케이스도 결국 해당 모델이 수반하는 의존성에 간접적으로 결합되어 버린다. 
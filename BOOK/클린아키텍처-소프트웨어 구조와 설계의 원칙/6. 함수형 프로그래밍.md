# 6. 함수형 프로그래밍
함수형 프로그래밍이란 패러다임에서 핵심이 되는 기반은 람다 계산법으로 알론조 처치가 1930년대 발명했다.

## 정수를 제곱하기
예) 25까지의 정수의 제곱을 출력하라
```java
//java
public class Squint {
    public static void main(String args[]) {
        for(int i = 0; i < 25; i++) {
            System.out.println(i*i);
        }
    }
}

//리스프
(println (take 25 (map (fn [x] (* x x)) (range))))
```

자바 프로그램은 가변 변수를 사용하는데, 가변 변수는 프로그램 실행 중에 상태가 변할 수 있다. 클로저 프로그램에서는 이러한 가변 변수가 전혀 없다. 즉 `함수형 언어에서 변수는 변경되지 않는다.`


## 불변성과 아키텍처
아키텍처를 고려할 때 변수의 가변성을 염려하는 이유는, `경합 조건, 교착상태 조건, 동시 업데이트 문제가 모두 가변 변수로 인해 발생하기 때문이다.`

우리가 동시성 애플리케이션에서 마주치는 모든 문제는 가변 변수가 없다면 절대로 생기지 않는다. 불변성을 실현하기 위해서는 일종의 타협을 해야한다. 어떤 타협인지는 다음과 같다.

## 가변성의 분리
불변성과 관련해서 가장 주요한 타협 중 하나는 `애플리케이션, 서비스를 가변 컴포넌트와 불변 컴포넌트로 분리`하는 일이다. 불변 컴포넌트에서는 순수하게 함수형 방식으로만 작업이 처리되며, 어떤 가변 변수도 허용하지 않는다. 불변 컴포넌트는 변수의 상태를 변경할 수 있는 순수 함수형 컴포넌트가 아닌 하나 이상의 다른 컴포넌트와 서로 통신한다.

## 이벤트 소싱
이벤트 소싱은 상태가 아닌 트랜잭션을 저장하는 전략이다. 상태가 필요해지면 단순히 상태의 시작점부터 모든 트랜잭션을 처리한다. 

저장 공간과 처리 능력이 충분하면 애플리케이션이 완전한 불변성을 갖도록 만들 수 있고, 완전함 함수형으로 만들 수 있다.

## 결론
* 구조적 프로그래밍은 제어흐름의 직접적인 전환에 부과되는 규율이다.
* 객체 지향 프로그래밍은 제어흐름의 간접적인 전환에 부과되는 규율이다.
* 함수형 프로그래밍은 변수 할당에 부과되는 규율이다.
# 22. 클린 아키텍처
시스템 아키텍처와 관련된 여러 가지 아이디어가 있다.
* 육각형 아키텍처
* DCI
* BCE

이들 아키텍처는 세부적으로는 차이가 있더라도 그 내용은 상당히 비슷하다. 이들의 목표는 바로 `관심사의 분리다.` 이들은 모두 소프트웨어를 계층으로 분리함으로써 관심사의 분리라는 목표를 달성할 수 있었다. 이들 아키텍처는 모두 시스템이 다음과 같은 특징을 지니도록 만든다.
1. 프레임워크 독립성 - 아키텍처는 프레임워크의 존재 여부에 의존하지 않는다. 즉 프레임워크가 지닌 제약사항안으로 시스템을 욱여 넣도록 강제하지 않는다.
2. 테스트 용이성 - 업무 규칙은 UI, 데이터베이스, 웹 서버 등이 없이도 테스트할 수 있다.
3. UI 독립성 - 시스템의 나머지 부분을 변경하지 않고도 UI를 쉽게 변경할 수 있다.
4. 데이터베이스 독립성 - 업무 규칙은 데이터베이스에 결합되지 않는다.
5. 모든 외부 에이전시에 대한 독립성 - 실제 업무 규칙은 외부 세계와의 인터페이스에 대해 알지 못한다.

<img src = "img/클린아키텍처.jpeg" width="700px">

## 의존성 규칙
위 그림에서는 소프트웨어의 서로 다른 영역을 표현한다. 보통 안으로 들어갈수록 고수준의 소프트웨어가 된다. 바깥원은 매커니즘이고, 안쪽 원은 정책이다. 이러한 아키텍처가 동작하도록 하는 가장 중요한 규칙은 `의존성 규칙`이다. `소스코드의 의존성은 반드시 안쪽으로, 고수준 정책을 향해야 한다.`

내부의 원에 속한 코드는 외부의 원에 선언된 어떤 것에 대해서도 그 이름을 언급해서는 안된다. 외부의 원에 선언된 데이터 형식도 내부의 원에서 절대로 사용해서는 안 된다.

### 엔티티
엔티티는 전사적인 핵심 업무 규칙을 캡슐화한다. 외부에서 무언가가 변경되더라도 엔티티가 변경될 가능성은 지극히 낮다. 운영 관점에서 특정 애플리케이션에 문언가 변경이 필요하더라도 엔티티 계층에는 절대로 영향을 주어서는 안 된다.

### 유스케이스


### 인터페이스 어댑터

## 전형적인 시나리오


## 결론
# 4. 밸류와 @Embeddable
## 01. 밸류로 의미를 더 드러내기
예) Hotel 클래스에는 호텔의 이름, 등급, 우편번호, 주소1, 주소2 데이터를 가지고 있다. 이때 Hotel 클래스에 주소 자체를 의미하는 Address 타입의 데이터를 가지게 되면 이런 타입을 밸류라고 부른다.
* 밸류는 개념적으로 한 개의 값을 표현, 예) Address 클래스는 세 개의 데이터로 구성되어 있지만, 개념적으로는 한 개의 주소를 나타낸다.
* 식별자를 갖지 않는다.
* 밸류는 자신이 속한 객체가 생성될 때 함께 생성되고 삭제될 때 함께 삭제된다.

## 02. 밸류 클래스의 구현
* 생성 시점에 모든 프로퍼티를 파라미터로 전달 받는다.(생성자)
* 읽기 전용 프로퍼티만 제공한다. (getter만)
* equals() 메서드를 재정의한다.
* hashCode() 메서드를 재정의한다.

```java
@Entity
public class Hotel {
    private Address address;
    
    ...
    
    public void changeAddress(Address newAddress) {
        this.address = newAddress;
    }
}
```

## 03. @Embeddable 애노테이션과 @Embedded 애노테이션을 이용한 밸류 매핑
<img src="img/밸류타입예시.jpeg" width="500px">

Address 밸류 타입을 갖는 Hotel 엔티티를 테이블에 매핑하려면 다음과 같은 매핑 설정을 추가해야 한다.
* 밸류 타입인 Address 클래스에 `@Embeddable` 애노테이션을 적용한다.
* Hotel 클래스는 `@Embedded` 애노테이션을 사용해서 밸류 타입을 매핑 설정한다.

```java
@Embeddable
public class Address {
    private String zipcode;
    private String address1;
    private String address2;
}


@Entity
public class Hotel {
    @Id
    private String id;
    private String name;
    
    @Embedded
    private Address address;
    
    ...
}
```

1. null 밸류의 매핑 처리 : Hotel 클래스 생성시 Address 값을 받는 파라미터에 null 값을 매핑하는 경우 Address 세개의 데이터 모두 null로 매핑된다.
2. @Embeddable의 접근 타입 : 밸류 객체의 매핑 대상은 해당 엔티티의 접근 타입을 따른다. 필드 접근 타입이면 필드 접근, 프로퍼티 접근 타입이면 프로퍼티 접근 타입을 따른다. 프로퍼티 접근의 경우 Address에도 get/set 메서드를 정의해야 한다.
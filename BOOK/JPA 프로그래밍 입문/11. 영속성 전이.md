# 11. 영속성 전이

## 01. 영속성 전이
영속성 전이는 엔티티의 영속성 상태 변화를 연관된 엔티티에도 함께 적용하는 것이다. 예) 엔티티 저장시 연관된 엔티티도 함께 저장, 엔티티 삭제시 연관된 엔티티도 함께 삭제 `@OneToOne(cascade = CascadeType.PERSIST)`

* PERSIST : 연관된 엔티티 함께 영속 객체로 추가
* REMOVE : 연관된 엔티티 함께 삭제
* DETACH : 연관된 엔티티 분리 상태로 만듬
* REFRESH : 연관된 엔티티 다시 읽어옴
* MERGE : 연관된 엔티티도 함께 관리 상태로 바꿈
* ALL : 모든 상태 변화에 대해 연관된 엔티티에 함께 적용

cascade 속성을 지정하지 않으면 `기본값은 빈 배열`이므로 모든 동작에 대해 영속성 상태 변화를 전이하지 않는다.

## 02. 영속성 전이 주의 사항
영속성 전이는 남용하면 안 된다. 특히 REMOVE는 주의해서 사용해야 한다. 엔티티는 독립적인 라이프 사이클을 갖기 때문에 엔티티를 삭제한다고 해서 연관된 엔티티를 함께 삭제하는 경우는 드물다. 보통 엔티티 삭제시 연관 엔티티도 삭제하기 보다는 연관을 null로 할당하거나 콜렉션 연관에서 삭제하는 것이 일반적이다. 
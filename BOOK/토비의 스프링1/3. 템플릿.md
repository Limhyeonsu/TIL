# 3. 템플릿
## 3.1 다시보는 초단감 DAO
기존에 만들었던 UserDao에는 예외처리 기능이 빠져있었다. DB 커넥션을 통한 작업후에는 항상 자원을 반환해주는 작업을 해주어야 한다. DB 작업중 오류가 발생하는 경우 자원 반환 부분까지 실행되지 못하기 때문에 try~catch 블록을 이용하여 자원 반환을 한다.

## 3.2 변하는 것과 변하지 않는 것
### JDBC try/catch/finally 코드의 문제점
예외처리를 추가한 UserDao는 복잡한 try/catch/finally 블록이 이중으로 중첩해서 쓰이고 모든 메서드마다 반복된다. 이렇게 되면 메서드 마다 복사해서 넣거나 할때 누락될 수도 있고 나중엔 원인을 찾기 힘들어진다.

이러한 문제를 효과적으로 다룰 수 있는 방법이 있다. 바로 변하지 않는 하지만 많은 곳에서 중복되는 코드와 로직에 따라 자꾸 확장되고 자주 변하는 코드를 잘 분리해내는 작업이다.

### 분리와 재사용을 위한 디자인 패턴 적용
* 메서드 추출
* 템플릿 메서드 패턴의 적용
* 전략 패턴의 적용
* DI 적용을 위한 클라이언트/컨텍스트 분리

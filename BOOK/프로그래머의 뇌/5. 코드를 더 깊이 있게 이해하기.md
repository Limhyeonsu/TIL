# 5. 코드를 더 깊이 있게 이해하기
코드가 하는 일이 무엇인지 이해하고 나면, 다음 단계는 코드에 대해 좀 더 깊이 생각하는 것이다.

## 5.1 '변수 역할' 프레임워크
코드에 대해 추론할 때 변수가 중심적인 역할을 한다. 변수가 어떤 종류의 정보를 담고 있는지 이해하는 것은 코드를 추론하고 수정하는 데 결정적인 역할을 한다. 적절한 변수명은 표식으로 사용될 수 있고, 읽고 있는 코드를 깊이 이해하는 데도 도움이 된다.

1. 변수는 각자 다른 일을 한다.
2. 11가지 역할
    * 고정 값 : 초기화를 통해 값이 할당된 이후 값이 변경되지 않는 변수
    * 스테퍼 : 루프를 반복 실행하며 값이 단계적으로 변하는 변수가 스테퍼의 역할을 한다.
    * 플래그 : 무엇인가 발생했거나 어떤 경우에 해당하는지를 나타내는 변수
    * 워커 : 스테퍼와 유사하게 자료구조를 순회한다. 다른 점은 워커는 일단 루프가 시작되기 전에는 어떤 값을 가지게 될지 알 수 없다.
    * 최근값 보유자 : 어떤 값이 변해갈 때 가장 최근에 변경된 값을 갖는 변수
    * 목적값 보유자 : 어떤 값에 대해 반복할 때는 그 목적이 어떤 특정한 값을 찾는 것일 수 있다. 찾고자 하는 조건에 부합하는 값을 갖는 변수를 목적값 보유자라고 한다.
    * 모집자 : 데이터를 모으거나 모은 데이터에 대해 어떤 연산을 수행하여 얻은 값을 저장하는 변수
    * 컨테이너 : 값을 새로 추가하거나 삭제할 수 있는 자료구조라면 컨테이너 변수다
    * 추적자 : 이전 값 혹은 다음 값을 추적해야할 필요가 있는 경우 사용, 항상 다른 변수에 연관되어 있다
    * 조직자 : 다른 값을 저장하기 위한 목적으로 사용하는 변수
    * 임시 : 잠시만 사용하기 위한 변수

## 5.2 역할과 패러다임
역할은 특정한 프로그래밍 패러다임에만 제한되지 않고 모든 패러다임에 나타난다.

### 역할의 이점
사야니에미의 프레임워크는 변수에 대해 논의할 때 사용할 수 있는 새로운 용어를 제공해주는 개념이다. 연구에 의하면 이 프레임워크는 학생들이 소스 코드를 머릿속으로 처리하는 데 도움이 될 뿐 아니라 변수 역할 프레임워크를 사용하는 학생이 그렇지 않은 학생보다 겅과가 더 뛰어난 것으로 알려져 있다. 이 프레임워크가 매우 효과적인 이유는 몇개의 역할이 하나로 묶여서 프로그램의 어떤 한 타입을 특징짓는 다는 것이다.

TIP) 완전히 생소한 코드를 파악할 때 코드를 프린트하거나 PDF로 저장해서 코드에 주석을 달면 도움이 된다. 각 변수를 역할에 따라 작은 아이콘으로 표시하면 좋다.

<img src="img/사야니에미FW.jpeg" width="700px">

### 헝가리안 표기법
헝가리안 표기법은 변수의 타입을 변수명에 나타내는 방식이다. 변수의 이름이 길어지므로 코드를 읽는데 어려움을 유발할 수 있다. 또 변수 타입 변경시 많은 변수에 영향을 미칠 수 있다. 따라서 헝가리안 표기법은 타입이 있는 프로그래밍 언어에서는 그다지 유용하지 않다.

## 5.3 프로그램에 대해 깊이 있는 지식을 얻으려면

### 텍스트 지식 대 계획 지식
프로그래머가 소스 코드를 이해하는 두 개의 서로 다른 층위에 대한 모델로 '텍스트 구조 지식', '계획 지식'이 있다.

텍스트 구조 지식은 키워드가 하는 일이나 변수의 역할 같은 프로그램의 표면적인 이해와 관련되어 있다. 계획 지식은 프로그래머가 프로그램을 작성할 때 계획한 것이 무엇인지 혹은 무엇을 달성하려고 했는지를 나타낸다.

코드를 작성한 프로그래머의 목적은 변수의 역할을 통해서만이 아니라 코드가 어떤 구조로 되어 있고, 어떻게 연결되어 있는지 살펴볼 때 명확해진다.

### 프로그램 이해의 여러 단계
프로그램에 대한 계획 지식을 갖는다는 것은 코드의 각 부분이 다른 부분들과 어떤 방식으로 관련 되어 있는지 이해하는 것을 의미한다.

표면적 지식으로부터 깊은 이해로의 진행은 다음과 같은 단계를 거친다.
1. 초점을 찾는다. -> 코드를 읽을 때 중요한 개념이다. 어디서부터 읽기 시작해야 할지 알아야 한다.
2. 초점으로부터 지식을 확장한다. -> 코드에 존재하는 관계를 찾아보라
3. 관련된 개체로부터 개념을 이해한다.
4. 여러 개체에 걸쳐있는 개념을 이해한다.

이전 장에서 살펴봤던 복잡한 코드를 읽을 때 인지 부하를 줄이기 위한 방법
1. 모든 변수를 원으로 표시한다.
2. 비슷한 변수들을 연결한다.
3. 모든 메서드나 함수 호출을 원으로 표시한다.
4. 메서드나 함수 호출을 정의와 연결한다.
5. 클래스의 모든 인스턴스를 원으로 표시한다.
6. 클래스와 그 클래스의 인스턴스를 연결한다.
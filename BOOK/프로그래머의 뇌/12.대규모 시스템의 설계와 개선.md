# 12. 대규모 시스템의 설계와 개선
큰 규모의 코드베이스에서 이해에 영향을 미치는 것은 코드의 작은 부분들만이 아니다. 코드의 구조 역시 다른 사람이 코드와 얼마나 쉽게 상호작용할 수 있는지에 큰 영향을 미친다.

## 12.1 코드베이스의 특성 조사
프로그래밍 언어를 논할 때 우리는 종종 기술적 영역(패러다임, 타입 시스템 여부 등등)을 살펴본다. 하지만 여러가지 라이브러리, 프레임워크, 모듈, 프로그래밍 언어에 대해 논의할 때 그것들이 컴퓨터가 아닌 두뇌와 관련해서 무엇을 하는지 또한 논의할 수 있다.

### 12.1.1 인지적 차원
1. 오류 경향성 : 일부 프로그래밍 언어에서는 다른 언어보다 실수를 저지르기 쉽다. 예) 자바스크립트에서 데이터 타입이 정해지지 않기 때문에 프로그래머는 변수 타입에 대해 혼동할 수 있다. 또 언어가 아닌 코드베이스 역시 오류 경향성이 있다. 예) 일관성 없는 규칙, 문서 부족, 모호한 이름 등
2. 일관성 : 이름과 규약을 일관성 없이 사용하는 프레임워크나 언어는 인지 부하를 더 많이 가져올 수 있다. 언어적 안티패턴을 갖는 코드는 오류가 발생하기 쉽고 인지 부하가 커진다.
3. 분산성 : 분산성은 프로그래밍 구성 요소가 얼마나 많은 공간을 차지하는지 나타낸다. 코드 줄 수뿐만 아니라 코드가 얼마나 많은 청크로 구성되어 있는지도 고려할 수 있다.
4. 숨겨진 의존성 : 어떤 파일을 코드 파일과 분리해야 한다는 요구 사항이 있다면 이것은 숨겨진 의존성의 예시이다. 코드를 제대로 실행하기 위해 어떤 라이브러리와 프레임워크를 설치해야 하는지 코드베이스에서 알기 어려울 수 있다.
5. 잠정성 : 잠정성은 도구를 사용하는 동안 생각하는 것이 얼마나 쉬운지에 대한 것이다. 코드베이스나 프로그래밍 언어가 매우 엄격하다면 코드를 사용해 생각을 표현하는 것은 어려울 수 있다.
6. 점도 : 특정 시스템을 변경하는 것이 얼마나 어려운지에 대한 것이다. 일반적으로 동적 타입 언어로 작성된 코드를 변경하는 것이 조금 더 쉽다.코드만 변경하면 되고, 모든 해당 타입 정의를 변경할 필요가 없다.
7. 점진적 평가 : 주어진 시스템에서 부분적인 작업을 확인하거나 실행하는 것이 얼마나 쉬운지에 대한 것이다. 점진적 평가를 통해 사용자는 완성되지 않은 코드나 불완전한 코드를 실행할 수 있다.
8. 역할 표현력 : 프로그램에서 여러가지 다른 부분의 역할을 얼마나 쉽게 알 수 있는지를 나타낸다. 예) 매개변수가 없는 함수 file.open()에서 open()은 함수임을 알 수 있다, 또 다른 예로 구문 강조가 있다. 대부분의 IDE에서는 변수를 키워와 다른 색으로 보여줌으로써 역할을 확인하는데 도움이 된다. 
9. 매핑 근접성 : 프로그래밍 언어 또는 코드가 문제의 해결 영역에 얼마나 가까운지를 의미한다. 훌륭한 매핑 근접성을 갖는 프로그래밍 언어의 예로 엑셀이 있다. 자바, 파이썬, 자바스크립트의 경우 어느 문제나 해결할 수 있는 범용적 언어이기 때문에 매핑 근접성이 좋지 않다.
10. 힘든 정신 활동 : 사용자가 시스템의 외부에서 힘든 정신 활동을 수행할 때 생각하는 것이 매우 어려울 수 있다. 예) 사용자가 기억할 것이 많은 상황으로 많은 매개변수를 올바른 순서로 호출해야 하는 등이 있다.
11. 보조 표기법 : 프로그래머가 공식 규격에는 없는 의미를 코드에 추가할 가능성을 나타낸다. 예) 주
12. 추상화 : 시스템의 사용자가 기본적으로 제공되는 추상화만큼 강력한 추상화를 만들 수 있는지 여부 예) 함수, 객체, 클래스
13. 가시성 : 시스템의 다른 부분을 얼마나 쉽게 볼 수 있는지를 나타낸다.

### 12.1.2 코드베이스 개선을 위해 CDCB 사용
217p

### 12.1.3 설계 기동 및 트레이드오프
218~219p

## 12.2 차원 및 활동
### 12.2.1 차원이 활동에 미치는 영향
어떤 활동은 특정 차원이 높아야하는 반면, 어떤 활동은 특정 차원이 낮을 때 가장 잘 작동한다.
* 검색 : 분산성은 코드를 더 길게 만들고, 검색할 코드가 더 많기 때문에 검색에 부정적인 영향을 주고, 보조 표기법(주석문, 변수 이름 등)은 검색에 도움이 된다.
* 이해 : 코드베이스의 가시성이 낮으면 연관성 파악이 어렵기 때문에 이해에 부정적인 영향을 주고, 역할 표현력은 이해에 도움이 된다.
* 전사 : 전사(미리 정의된 계획을 기반으로 기능 구현) 때 일관성 같은 일부 차원이 나빠질 수 있다.
* 증가 : 새 기능 추가시 도움이 되는 것은 도메인에 대한 매핑 근접성이다. 반면 점도가 높은 코드베이스에는 코드를 추가하기가 어렵다.
* 탐구 : 새로운 설계 아이디어를 탐구할 때 가장 도움이 되는 차원은 잠정성과 점진적 평가다.

### 12.2.2 예상 활동에 대한 코드베이스 최적화
여러 다른 활동이 시스템에 서로 다른 제약을 가하는 것을 살펴봤다. 따라서 코드베이스에 대해 다른 사람이 어떤 작업을 수행할지 이해하고 있어야 한다.
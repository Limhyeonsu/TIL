# 요약(2.리눅스 운영 및 관리)
### RAID
* RAID-0 : 스트라이핑 방식, 연속된 데이터를 여러개의 디스크에 라운드로빈 방식으로 기록(큰 용량 하나로 사용, 백업X)
* RAID-1 : 미러링 방식, 반반 나눠서 절반은 복제용으로 사용(50:50)
* RAID-5 : 페리티 1개
* RAID-6 : 페리티 2개

페리티 - 장애 발생뒤 데이터 복원용

### LVM 구성순서
* PV -> VG -> LV
* LVM : 물리적 디스크 2개를 이용해서 하나의 파티션으로 구성, 파티션의 크기를 확장해도 데이터의 손실X, 물리적 디스크 1개를 이용해서 두개의 파티션 구성 가능

### 프로그램
* 사운드 프로그램 : ALSA, OSS(표준 유닉스 시스템콜)
* 스캐너 프로그램 : SANE, XSANE(GUI, X 윈도기반)
* 프린터 프로그램 : CUPS(APPLE), LPRng(BDS)

### 프로그램 소스파일 설치 과정
* configure(makefile 생성, path 등록) -> make(컴파일) -> make install(설치)

### 프로세스 관련 명령어로 설정 가능한 NI 범위
* -20 ~ 19

### cron 표현식
* 분/시/일/월/요일
* 분 : 0 ~ 59
* 시 : 0 ~ 23
* 일 : 1 ~ 31
* 월 : 1 ~ 12
* 요일 : 0 ~ 6(일 ~ 토)

### 패키지 관리도구
* 데비안 계열(데비안, 우분투)
  * (저) dpkg / (고) apt-get, apt
  * alien : rpm 파일 -> dep 파일 변환
* 레드햇 계열(레드햇, 페도라, centOS)
  * (저) rpm / (고) yum, dnf
* Open SUSE
  * (저) rpm / (고) Zypper
  * YaST : 운영 체제의 설정 및 구성 도구

### 편집기 개발 인물
* 빌 조이 : vi
* 브람 브레나르 : vim
* 리처드 스톨만 : emacs
* 귀도 반 로섬 : IDLE

### 편집기
* GUI : kwrite, gedit
* text : nano(GNU), pico(GNU), vi, vim, emacs(편집기 상단에 File edit)

### 데몬 실행 방식
* standalone : 대기하고 있다가 요청시 즉각 처리, 빈번한 요청 서비스에 적합(응답은 빠르나, 메모리에 계속 상주하고 있 효율이 떨어짐)
* inetd : 평상시 잠들어 있다가 요청시 구동됨(응답은 느리나 메모리 관리에 좋음) / rlogin, rsh등 자주사용X, 서비스의 포트를 리슨, 요청이 들어오면 서버 프로그램 실행
* xinetd : inetd의 대체, 강력한 보안 제공

### 시그널
* SIGUP(1)
* SIGINT(2) : 백그라운드 -> 포어그라운드 전환
* SIGKILL(9) : 프로세스 강제종료
* SIGTERM(15) : kill 명령 실행시
* SIGTSTP(20) : 포어그라운드 -> 백그라운드 전환

### 프로세스 호출 방법
* fork : 새로운 프로세스를 위해 메모리를 할당 받아 복사본 형태의 프로세스 실행
* exec : 원래의 프로세스를 새로운 프로세스로 __대체__

### 특수권한
* SetUID : 소유자만이 접근 가능한 파일을 일반 유저도 접근할 필요가 있을 때 사용하는 특수권한, SetUID가 적용된 파일을 실행하면 실행 파일이 끝날때까지 파일의 소유자의 UID가 된다.
* SetGID : 소유 그룹만 접근 가능한 파일을 일반 유저도 접근할 필요가 있을 때 사용하는 특수권한, SetGID가 적용된 파일을 실행하면 실행 파일이 끝날때까지 파일의 그룹의 GID가 된다.
* Sticky bit(1) : 특정 디렉터리를 누구나 자유롭게 사용할 수 있도록 하는 특수권한, Sticky bit가 적용된 __디렉터리__ 에선 파일 및 디렉터리 생성은 가능하지만, 삭제는 생성한 유저와 디렉터리 소유자만 가능 `drwxrwxrwt` t가 붙으면 Sticky bit 권한이 적용된것, T면 권한 없음
  * 예) chmod o+t [디렉터리명], chmod 1770 [디렉터리명]

### unmask
* 0022 : -rw-r--r--
* 0002 : -rw-rw-r--

### 쿼터 설정
* quota : 사용자의 디스크 사용량 및 할당량을 보고하는 명령어
* edquota : (edit) 사용자 또는 그룹의 디스크 쿼터를 편집
* repquota : (report) 쿼터 확인
* setquota : 디스크 사용량 쿼터 설정 (edquota랑 비슷하나 인자가 더 많이 필요함) (-u 옵션 사용)
* xfs_quota : xfs 파일 시스템에서 쿼터 관리 (-x 옵션 사용)

### nice
* 실행시 bash 프로세스의 우선순위 결정
* nice -[n][process명] (양수 -n, 음수 --n)
* 예) nice bash -> nice 값 10증가, 값이 증가하면 프로세스 우선순위가 낮아진다.
* killall, nice는 프로세스명 사용

### renice
* 실행된 프로세스의 우선순위 결정
* renice [옵션][n][PID] (양수 n, 음수 -n)
* kill, renice는 PID 사용

### 쉘
* csh : __빌 조이__ 가 개발, 히스토리 기능, Alias 기능, 작업제어
* bash : __GNU 프로젝트__ 를 위해 개발, 다양한 운영체제에서 사용

### 편집기에서 치환
* %s /변경대상/변경결과/g
* `^`(문자의 시작), `$`(문자의 끝), `₩<`(문장 어디에 위치하든)
* 예) 문장의 시작이 linux인 경우 Linux로 치환 `%s/^linux/Linux/g`
* 예) 단어의 시작이 linux인 경우 Linux로 치환 `%s/₩<linux/Linux/g`

### PS1, PS2
* PS1 : 주 프롬프트(사용자명, 호스트명, 현재 디렉터리), 프롬프트 변경 환경변수
* PS2 : 보조 프롬프트, 명령어가 다음줄로 이어지는 경우에 사용

### CentOS 부팅시 systemd 프로세스 방생 PID 1로 초기화, 이후 데몬, 다른 서비스는 fork 방식

### tar 압축옵션
* -z : gzip
* -Z : compress
* -j : bzip2
* -J : xz
* xz > bzip2 > gzip > compress
* tar tvf(파일에 묶인 내용 확인), tar rvf(기존 압축 파일에 파일 추가), tar cvf(압축 파일 새로 생성), tar xvf(압축 파일 해제)

### 명령어
* ps : 현재 실행중인 프로세스, 시스템에 로그인후 이용중인 셸 확인, 백그라운드로 실행중인 데몬확인
* jobs : 현재 셸에서 실행중인 작업목록, 본인이 실행한 백그라운드 프로세스 목록 (중지, 실행 내역)
* bg : 중지된 작업을 백그라운드 작업으로 재개, 현재 실행중인 프로세스를 백그라운드 작업으로 전환
* echo "$user" : user명 출력
* echo "$USER" : 사용자명 출력
* echo "SHELL" : 사용자가 로그인시 부여받은 셸 정보 출력
* !n : ex)!0, !1, !2 .. 이전 실행중 n번째 명령 실행
* !-n : 현재에서 n번째 전
* !! : 가장 최근에 실행한 명령 재실행
* !?al : 최근 실행한 명령 중 'al' 문자열 포함한 명령을 찾아서 실행
* !* : 현재 명령 라인의 모든 단어를 포함하는 명령 실행
* set : 옵션이 없을때 선언된 변수, 함수 출력
* du : 특정 디렉터리에 디스크 사용량 확인
* df : 리눅스 시스템 전체의 __(마운트 된)__ 디스크 사용량
* w : 저장하고 종료
* q : 저장 안하고 종료
* purge : 환경설정까지 제거
* blkid : uuid, 파일 시스템 유형 확인
* chown : 파일, 디렉터리 소유자 및 그룹 소유권 변경
* chgrp : 파일, 디렉터리 그룹 소유권 변경
* chmod : 파일, 디렉터리 접근 권한 변경
* ls : 파일이나 디렉터리 확인 (-l 상세 조회)
* lsblk : 리눅스 스토리지 디바이스 정보 출력(size, mount point..)
* mkfs.xfs : XFS 파일 시스템으로 포맷
* chsh -s : 다른 셸로 변경
* chsh -u : uuid 변경
* chsh -l : 셸 목록
* alsactl : 사운드카드 제어, 설정
* & : 명령어를 백그라운드 프로세스로 실행
* top : 리눅스 시스템의 운영상태를 실시간으로 확인(모니터링), 프로세스 상태 확인
* nohup : 사용자가 로그아웃하거나 작업중인 터미널이 닫혀도 백그라운드 프로세스로 계속 작업
* mount -t : ext 파티션을 마운트할 떄 옵션
* kill -l : 시그널에 부여된 번호값 확인
* 

### 편집기 명령어
* c : 변경
* r : 하나의 문자를 다른 문자로 교체
* u : (undo) 직전에 삭제한 줄 복원
* dd : 현재 줄 삭제

### 프린트 작업 명령어
* cancel : 작업 취소
* lpr : (BDS) 작업 요청
* lpq : (BDS) 큐에있는 작업 목록
* lp : (Sysyem V) 작업 요청
* lpstat : (Sysyem V) 큐에 상태 확인

### 파일 점검 명령어
* ext : fsck(file system check)
* xfs : xfs_repair

### 디렉터리
* /etc/bashrc : 모든 사용자에게 적용되는 __alias와 함수__ 를 설정하기 위한 파일
* /etc/passwd : 각 사용자의 계정정보 저장, 로그인시 부여되는 셸 정보 확인
* /etc/mtab : 현재 시스템에 __마운트된__ 파일 시스템 정보 저장
* /etc/mounts : 마운드 여부와 관계 없이
* /etc/fstab : 파일 시스템에 대한 정보, 부팅시 마운트할 파티션 정보 기록
* /etc/shells : 사용자가 로그인 후 사용가능 한 쉘 목록
* /usr/bin/passwd : __특수권한__ 이 설정된 파일이나 디렉터리
* .bash_history : 로그인 후 입력한 명령들은 로그아웃시 이 파일에 저장된다. (.숨김파일)
* .exrc : vi 편집기에서 환경설정한 내용을 계속해서 사용하기 위해 등록하는 파일

### 단축키
* ctrl + a : (편집기) 현재행의 라인 시작 부분으로 이동
* ctrl + e : (편집기) 현재행의 라인 끝 부분으로 이동
* ctrl + o : (편집기) 파일저장 후 나가기
* ctrl + i : (편집기) 탭 삽입
* ctrl + c : (프로세스) 프로세스 강제 종료
* ctrl + z : (프로세스) 포어그라운드 프로세스 -> 백그라운드 프로세스로 전환, 프로세스 일시정지 후 백그라운드로 이동, 터미널 제어권 반환
* ctrl + d : (프로세스) 터미널 세션 종료(로그아웃)